<!DOCTYPE html>
<html>
<title>Spotify</title>
<head>
  <style>
        #youtube-icon {
            bottom:0;
            right:0;
            position: fixed;
            width: 100px;
            height: 100px;
            background-color: white;
        }
  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="script.js"></script> 
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body ng-app = "Spotify">

  <div class="sidenav">
    <div class = "logo" style="padding: 20px">
      <a style = "color:rgb(255,255,255);font-family: Impact, Charcoal, sans-serif;font-size: 30px"><i class="fab fa-spotify" style="font-size:50px;color:green"></i> spotify</a>
    </div>
    <div class="navlist">
      <a href="#/!"><i class="fas fa-home"></i> Home</a>
    </div>
    <div class="navlist">
      <a href="#!search"><i class="fas fa-search" ></i> Search</a>
    </div>
    <div class="navlist">
      <a href="#!rec"><i class="fas fa-compact-disc"></i> Recommendations</a>
    </div>
  </div>

<div id = "user">
    <div id="uname"><i class="fas fa-user"></i> {{Username}}</div>
  </div>

    <div class="main">
      <div ng-view></div>

    <div class = "musicplayer">
    <img src = "{{image_to_play}}" width = 100px height= 100px>
    <p id = "aa">{{song_to_play}}</p>
    <p id = "ab" style="font-size:12px">{{artist_to_play}}</p>
    <p id = "iem" onchange="xyz()">{{embed_to_play}}</p>
  </div>
</div>

<div
    
    data-autoplay="0"         
    data-loop="1"             
    id="youtube-audio">
        
    </div>

  <script>
    function xyz()
        {
            q = document.getElementById("iem").innerHTML;
            console.log(q);
            var element = document.getElementById("youtube-audio");
            element.removeChild(document.getElementById("youtube-player"));
            element.removeChild(document.getElementById("youtube-icon"));
            var datavideo= q;
            console.log(icount);
            console.log(datavideo);
            var e=document.getElementById("youtube-audio"),t=document.createElement("img");
            t.setAttribute("id","youtube-icon"),t.style.cssText="cursor:pointer;cursor:hand",e.appendChild(t);
            var a=document.createElement("div");
            a.setAttribute("id","youtube-player"),e.appendChild(a);
            var o=function(e){
                var a=e?"IDzX9gL.png":"quyUPXN.png";
                t.setAttribute("src","https://i.imgur.com/"+a)};
                e.onclick=function(){
                    r.getPlayerState()===YT.PlayerState.PLAYING||r.getPlayerState()===YT.PlayerState.BUFFERING?(r.pauseVideo(),o(!1)):(r.playVideo(),o(!0))};
                    var r=new YT.Player("youtube-player",
                        {height:"0",width:"0",videoId:datavideo,
                        playerVars:{autoplay:e.dataset.autoplay,loop:e.dataset.loop},
                        events:{
                            onReady:function(e){r.setPlaybackQuality("small"),
                            o(r.getPlayerState()!==YT.PlayerState.CUED)},
                            onStateChange:function(e){e.data===YT.PlayerState.ENDED&&o(!1)}}
                        })
                }
    function onYouTubeIframeAPIReady()
                {   
                    icount = 0;
                    var datavideo= "QYh6mYIJG2Y" ;
                    var e=document.getElementById("youtube-audio"),t=document.createElement("img");
                    t.setAttribute("id","youtube-icon"),t.style.cssText="cursor:pointer;cursor:hand",e.appendChild(t);
                    var a=document.createElement("div");
                    a.setAttribute("id","youtube-player"),e.appendChild(a);
                    var o=function(e){
                        var a=e?"play.webp":"pause.png";
                        t.setAttribute("src",""+a)};
                        e.onclick=function(){
                            r.getPlayerState()===YT.PlayerState.PLAYING||r.getPlayerState()===YT.PlayerState.BUFFERING?(r.pauseVideo(),o(!1)):(r.playVideo(),o(!0))};
                            var r=new YT.Player("youtube-player",
                                {height:"0",width:"0",videoId:datavideo,
                                playerVars:{autoplay:e.dataset.autoplay,loop:e.dataset.loop},
                                events:{
                                    onReady:function(e){r.setPlaybackQuality("small"),
                                    o(r.getPlayerState()!==YT.PlayerState.CUED)},
                                    onStateChange:function(e){e.data===YT.PlayerState.ENDED&&o(!1)}}
                                })
                        }
  </script>

</body>
</html> 
